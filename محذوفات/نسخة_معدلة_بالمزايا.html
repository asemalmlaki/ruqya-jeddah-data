<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>نموذج لجنة الرقية الشرعية</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* New Color Palette */
        :root {
            --primary-color: #1E3A8A;
            /* Royal Blue */
            --secondary-color: #10B981;
            /* Mint Green */
            --background-color: #F9FAFB;
            /* Soft Gray */
            --text-color: #1F2937;
            /* Dark Gray */
            --card-background: #FFFFFF; /* White for cards/fields */
            --shadow-color: rgba(0, 0, 0, 0.08); /* Soft Shadow */
            /* --button-gradient: linear-gradient(to right, #1E3A8A, #10B981); /* Modern Gradient */
            /* --button-hover-gradient: linear-gradient(to right, #10B981, #1E3A8A); /* Reverse Gradient on hover */
            --button-text-color: #FFFFFF; /* White text for buttons */
            --focus-border-color: #1E3A8A; /* Royal Blue for focus */
            --yes-color: #10B981; /* Mint green for Yes */
            --no-color: #EF4444; /* Red for No */

             /* New Button Colors */
            --submit-button-color: var(--secondary-color); /* Mint Green for Submit */
            --update-button-color: var(--primary-color); /* Royal Blue for Update */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--background-color);
            margin: 0;
            color: var(--text-color);
            line-height: 1.6;
        }

        header,
        footer {
            background-color: var(--card-background); /* Use white for header/footer background */
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px var(--shadow-color); /* Adjusted shadow */
        }

        header {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        header img {
            height: 80px;
            margin-bottom: 10px;
        }

        header h1 {
            font-size: 1.8em; /* Slightly larger font size */
            font-weight: 700; /* Bold font for headings */
            color: var(--primary-color);
            margin: 0 0 15px 0; /* Added more bottom margin */
            text-align: center;
        }

        .header-links a {
            margin: 0 15px;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 400; /* Regular weight for links */
            font-size: 1.1em;
            transition: color 0.3s ease;
        }

        .header-links a:hover {
            color: var(--secondary-color);
        }

        .container {
             max-width: 1000px; /* Increased max width */
            margin: 20px auto;
            padding: 0 20px; /* Add some padding on the sides */
            display: grid;
            /* grid-template-columns is controlled by JS based on section visibility */
            gap: 30px; /* Space between columns (or rows when stacked) */
        }

         @media screen and (max-width: 900px) {
            .container {
                grid-template-columns: 1fr !important; /* Always stack columns on smaller screens */
            }
        }


        .form-container {
            background-color: var(--card-background);
            padding: 30px;
            border-radius: 10px; /* More rounded corners */
            box-shadow: 0 4px 12px var(--shadow-color); /* Softer, larger shadow */
            border: 1px solid #eee; /* Lighter border */
        }

         .report-container {
            background-color: var(--card-background); /* White background */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-color); /* Soft shadow */
            border: none; /* No border */
        }

        label {
            display: block;
            margin-bottom: 6px; /* Slightly more space */
            color: var(--text-color); /* Dark gray color */
            font-weight: 700; /* Bold labels */
            font-size: 0.95em; /* Slightly smaller font */
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 12px; /* Increased padding */
            margin-bottom: 20px; /* More space below fields */
            border: 1px solid #ddd; /* Lighter border */
            border-radius: 6px; /* Slightly more rounded */
            font-family: 'Tajawal', sans-serif;
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
            background-color: #fefefe; /* Very light background for fields */
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--focus-border-color);
            outline: none;
            box-shadow: 0 0 8px rgba(30, 58, 138, 0.2); /* Shadow matching primary color */
            background-color: #fff;
        }

        textarea {
            resize: vertical;
            min-height: 150px; /* Increased min height */
        }

        /* Button Styling */
        button {
            color: var(--button-text-color);
            padding: 12px 25px; /* Increased padding */
            border: none;
            border-radius: 8px; /* More rounded buttons */
            cursor: pointer;
            font-size: 1.05em; /* Slightly larger font */
            font-weight: 700; /* Bold button text */
            transition: opacity 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-right: 15px; /* More space between buttons */
            box-shadow: 0 4px 8px var(--shadow-color); /* Soft shadow */
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-2px); /* Slight lift effect */
            box-shadow: 0 6px 12px var(--shadow-color); /* Larger shadow on hover */
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px var(--shadow-color);
        }

         /* Specific style for the Search button */
        #search-button {
            background: none;
            background-color: var(--primary-color); /* Solid primary color */
             box-shadow: 0 4px 8px var(--shadow-color);
        }

        #search-button:hover {
             background-color: var(--secondary-color); /* Change to secondary on hover */
        }

         /* Specific style for the Submit button */
        button[type="submit"] {
            background-color: var(--submit-button-color); /* Mint Green */
        }

        button[type="submit"]:hover {
            background-color: #0B9B6B; /* Slightly darker mint green on hover */
        }

        /* Specific style for the Update button */
        #update-button {
            background-color: var(--update-button-color); /* Royal Blue */
        }

         #update-button:hover {
            background-color: #162C6A; /* Slightly darker royal blue on hover */
        }


        .success {
            text-align: center;
            color: var(--secondary-color); /* Green color for success */
            font-weight: 700;
            margin-top: 20px;
            font-size: 1.1em;
        }

        .criteria-section {
            background-color: var(--card-background);
            padding: 25px; /* Increased padding */
            border-radius: 10px;
            margin-bottom: 25px; /* More space below */
            box-shadow: 0 2px 8px var(--shadow-color); /* Card shadow */
            border: 1px solid #eee;
        }

         .criteria-section h3 {
            color: var(--primary-color); /* Primary color for section title */
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.4em;
            font-weight: 700;
            border-bottom: 2px solid var(--secondary-color); /* Underline with secondary color */
            padding-bottom: 10px;
        }

        .criterion {
            margin-bottom: 20px; /* More space between criteria */
            padding: 15px;
            border: 1px solid #eee; /* Border around each criterion */
            border-radius: 8px; /* Rounded corners for criteria cards */
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05); /* Light shadow for criterion card */
             background-color: #fcfcfc; /* Slightly different background for criterion card */
        }

        .criterion:last-child {
            border-bottom: none;
             margin-bottom: 0;
        }

        .criterion-label {
            display: block;
            margin-bottom: 10px; /* More space below label */
            font-weight: 400; /* Regular weight for criterion text */
            color: var(--text-color);
            font-size: 1em;
        }

        .options {
            display: flex;
            gap: 20px; /* Increased space between options */
            margin-top: 8px;
        }

        .options label {
            display: flex;
            align-items: center;
            gap: 8px; /* Space between radio button and text */
            font-weight: 400; /* Regular weight for options */
            color: var(--text-color);
            cursor: pointer; /* Indicate clickable */
        }

        .criterion .options label.yes {
            color: var(--yes-color);
            font-weight: 700; /* Bold Yes */
        }

        .criterion .options label.no {
            color: var(--no-color);
             font-weight: 700; /* Bold No */
        }

        .yes input {
            accent-color: var(--yes-color);
        }

        .no input {
            accent-color: var(--no-color);
        }

        /* تذييل بسيط */
        footer {
            margin-top: 40px; /* More space above footer */
            font-size: 0.9em;
            color: var(--text-color);
        }

        /* استجابة للشاشات الصغيرة */
        @media screen and (max-width: 600px) {
            .form-container, .report-container {
                padding: 20px;
                margin: 10px 0;
            }

            header {
                flex-direction: column;
                align-items: center;
            }

            header img {
                margin-left: 0;
                margin-bottom: 10px;
            }

            button {
                width: 100%;
                margin-right: 0;
                margin-bottom: 15px;
            }

             .container {
                padding: 0 10px;
            }
        }


        /* Style for the search box container */
        .search-container {
            margin-bottom: 25px; /* More space below search */
            padding: 20px;
            background-color: #f1f5f9; /* Lighter background for search */
            border: 1px solid #d1d5db;
            border-radius: 8px;
            display: flex;
            gap: 15px; /* More space between elements */
            align-items: center;
            box-shadow: 0 1px 4px var(--shadow-color);
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }

        .search-container label {
             font-weight: 400;
             margin-bottom: 0;
             color: var(--text-color);
             flex-shrink: 0; /* Prevent label from shrinking */
        }

        .search-container input[type="text"] {
            flex-grow: 1;
            margin-bottom: 0;
            min-width: 150px; /* Ensure input has a minimum width */
        }

        .search-container button {
            margin-right: 0;
            flex-shrink: 0; /* Prevent button from shrinking */
        }

        /* Style for the Power BI embed container */
        .powerbi-container {
            margin-top: 0; /* Removed top margin as it's handled by grid gap */
            border-radius: 10px;
            overflow: hidden;
             /* Moved box-shadow and border to report-container */
        }

         /* Style for the report container itself */
        .report-container {
            background-color: var(--card-background); /* White background */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px var(--shadow-color); /* Soft shadow */
            border: none; /* No border */
        }


        .powerbi-container iframe {
            display: block;
            width: 100%;
            height: 600px; /* Kept original height */
            border: none;
        }

        /* CSS to hide elements */
        .hidden {
            display: none;
        }

        /* Styling for the members section */
        .members-section {
            background-color: var(--card-background);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
             box-shadow: 0 2px 8px var(--shadow-color); /* Card shadow */
            border: 1px solid #eee;
        }

         .members-section h3 {
            color: var(--primary-color); /* Primary color for section title */
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.4em;
            font-weight: 700;
            border-bottom: 2px solid var(--secondary-color); /* Underline with secondary color */
            padding-bottom: 10px;
        }

        .member-input {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #fcfcfc; /* Slightly different background for member input */
             padding: 10px;
             border-radius: 6px;
             border: 1px solid #eee;
             flex-wrap: wrap; /* Allow wrapping if needed */
        }

        .member-input label {
            margin-bottom: 0;
            flex-grow: 1; /* Allow label to grow */
             font-weight: 400;
             font-size: 1em;
             flex-basis: 0; /* Allow label to shrink */
             min-width: 0; /* Allow label to go below content size */
        }

        .member-input input[type="text"] {
             flex-grow: 1; /* Allow input to grow */
             flex-shrink: 0; /* Prevent input from shrinking below min-width */
             min-width: 300px; /* Increased min width for member name input */
             margin-bottom: 0;
             background-color: #fff;
        }

        .member-logo {
            height: 35px; /* Slightly larger logo */
            width: auto;
            vertical-align: middle;
            flex-shrink: 0; /* Prevent logo from shrinking */
        }

        /* Styling for the report title when it's outside the container */
        .report-title {
             color: var(--primary-color);
             font-size: 1.8em; /* Slightly larger font size */
             font-weight: 700; /* Bold font */
             text-align: center;
             margin-bottom: 20px; /* Space below the title */
             margin-top: 0;
        }
    
/* الوضع الليلي */
.dark-mode {
    background-color: #1a1a1a !important;
    color: #f1f1f1 !important;
}

.dark-mode header,
.dark-mode footer,
.dark-mode .form-container,
.dark-mode .report-container,
.dark-mode .criterion,
.dark-mode .search-container,
.dark-mode .members-section {
    background-color: #2a2a2a !important;
    color: #f1f1f1 !important;
    border-color: #444 !important;
}

.dark-mode input,
.dark-mode select,
.dark-mode textarea {
    background-color: #333 !important;
    color: #fff !important;
    border-color: #666 !important;
}

</style>
</head>

<body>

    <header>
        <img src="e-logo.svg" alt="Logo">
        <h1>بيانات مزاولي أعمال الرقية الشرعية بمحافظة جدة</h1>
<div style="margin-top: 10px;">
    <button onclick="toggleDarkMode()">🌙 الوضع الليلي</button>
    <button onclick="changeFontSize(1)">🔍 تكبير الخط</button>
    <button onclick="changeFontSize(-1)">🔎 تصغير الخط</button>
    <span id="today-date" style="margin-right: 15px; font-weight: bold;"></span>
</div>

        <div class="header-links">
            <a href="#" id="input-link">واجهة الادخال</a>
            <a href="#" id="report-link">عرض التقرير</a>
        </div>
    </header>

    <div class="container">
        <div class="form-container" id="input-section">
            <div class="search-container">
                <label for="search-id">البحث برقم الهوية:</label>
                <input type="text" id="search-id" name="search-id" pattern="\d{10}" maxlength="10"
                    title="يجب أن يكون 10 أرقام">
                <button type="button" id="search-button">بحث</button>
            </div>


            <form id="form">
                <label for="name">الاسم</label>
                <input type="text" id="name" name="name" required>

                <label for="id">رقم الهوية</label>
                <input type="text" id="id" name="id" pattern="\d{10}" maxlength="10" title="يجب أن يكون 10 أرقام" required>

                <label for="phone">رقم الجوال</label>
                <input type="text" id="phone" name="phone" pattern="\d{10}" maxlength="10" title="يجب أن يكون 10 أرقام"
                    required>

                <label for="nationality">الجنسية</label>
                <select id="nationality" name="nationality" required>
                    <option value="">-- اختر --</option>
                    <option>سعودي</option>
                    <option>غير سعودي</option>
                </select>

                <label for="status">الحالة الاجتماعية</label>
                <select id="status" name="status" required>
                    <option>أعزب</option>
                    <option>متزوج</option>
                </select>

                <label for="education">المؤهل التعليمي</label>
                <select id="education" name="education" required>
                    <option value="">-- اختر --</option>
                    <option>دكتوراه</option>
                    <option>ماجستير</option>
                    <option>بكالوريوس</option>
                    <option>ثانوي</option>
                    <option>متوسط</option>
                    <option>ابتدائي</option>
                </select>

                <label for="gender">الجنس</label>
                <select id="gender" name="gender" required>
                    <option>ذكر</option>
                    <option>أنثى</option>
                </select>

                <label for="practice_type">نوع المزاولة</label>
                <select id="practice_type" name="practice_type" required>
                    <option value="">-- اختر --</option>
                    <option>راقي شرعي</option>
                    <option>معالج شعبي</option>
                    <option>مفسر أحلام</option>
                </select>

                <label for="practice_status">حالة المزاول</label>
                <select id="practice_status" name="practice_status" required>
                    <option value="">-- اختر --</option>
                    <option>مستمر</option>
                    <option>منقطع</option>
                    <option>تم الإيقاف</option>
                </select>

                <label for="visit_type">رقم الزيارة</label>
                <select id="visit_type" name="visit_type" required>
                    <option value="">-- اختر --</option>
                    <script>
                        for (let i = 1; i <= 10; i++) {
                            document.write(`<option>${i}</option>`);
                        }
                    
// ميزة الوضع الليلي
function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
}

// تغيير حجم الخط
let currentFontSize = 16;
function changeFontSize(change) {
    currentFontSize += change;
    document.body.style.fontSize = currentFontSize + "px";
}

// عرض تاريخ اليوم
document.getElementById("today-date").textContent = "📅 " + new Date().toLocaleDateString('ar-EG');

</script>
                </select>

                <label for="notes">ملاحظات اللجنة</label>
                <textarea id="notes" name="notes"></textarea>

                <label for="opinion">رأي اللجنة</label>
                <textarea id="opinion" name="opinion"></textarea>

                <div class="criteria-section">
                    <h3>معايير التقييم</h3>

                    <div class="criterion">
                        <span class="criterion-label">حفظ القرآن الكريم، متوفر فيه الصلاح، الإتقان لأحكام الرقية وعلى قدر من العلم بالشريعة</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria1" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria1" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">وجود كشف طبي يضمن سلامة الراقي أو المعالج من الأمراض المعدية (صلاحيته ستة أشهر)</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria2" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria2" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">استخدام أي أسلوب من أساليب التعذيب كالضرب أو الخنق أو الصعق الكهربائي أو خلافه</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria3" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria3" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">استخدام الوافدين مع المزاول</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria4" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria4" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">القراءة الجماعية أو مكبرات الصوت</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria5" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria5" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">القراءة على النساء بوجود محرم</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria6" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria6" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">استخدام القنوات الفضائية أو الشبكات العنكبوتية ومواقع التواصل الاجتماعي للإعلان أو للتسويق</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria7" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria7" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">وجود مسميات للمزاول مثل الروحاني أو المعالج أو خلاف ذلك</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria8" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria8" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">الاشتراط بمبالغ مالية</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria9" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria9" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">بيع الماء أو الأعشاب أو الزيوت أو العسل أو الخلطات مجهولة المصدر</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria10" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria10" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">وضع لوحة إعلانية لمقر المزاول</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria11" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria11" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">توفر وسائل السلامة في موقع مقر المزاول</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria12" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria12" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">التنقل بين المنازل للرقية الشرعية أو الطب الشعبي</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria13" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria13" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">وجود أذى من المزاول لجيرانه مثل ازدحام السيارات أمام المقر أو خلاف ذلك</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria14" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria14" value="لا"> لا</label>
                        </div>
                    </div>

                    <div class="criterion">
                        <span class="criterion-label">الالتزام بالإجراءات الاحترازية والتباعد الاجتماعي</span>
                        <div class="options">
                            <label class="yes"><input type="radio" name="criteria15" value="نعم"> نعم</label>
                            <label class="no"><input type="radio" name="criteria15" value="لا"> لا</label>
                        </div>
                    </div>

                </div>

                <div class="members-section">
                    <h3>أسماء أعضاء اللجنة المشاركين في الزيارة</h3>

                    <div class="member-input">
                        <img src="وزارة الشؤون الاسلامية.svg" alt="شعار وزارة الشؤون الإسلامية" class="member-logo">
                        <label for="member_islamic_affairs">مندوب فرع وزارة الشؤون الإسلامية والدعوة والإرشاد بمحافظة جدة:</label>
                        <input type="text" id="member_islamic_affairs" name="member_islamic_affairs">
                    </div>

                    <div class="member-input">
                         <img src="شعار هيئة الأمر بالمعروف والنهي عن المنكر – SVG.svg" alt="شعار هيئة الامر بالمعروف" class="member-logo">
                        <label for="member_haia">مندوب فرع هيئة الامر بالمعروف والنهي عن المنكر بمحافظة جدة:</label>
                        <input type="text" id="member_haia" name="member_haia">
                    </div>

                    <div class="member-input">
                         <img src="الشرطة.svg" alt="شعار البحث الجنائي" class="member-logo">
                        <label for="member_criminal_investigation">مندوب فرع البحث الجنائي بمحافظة جدة:</label>
                        <input type="text" id="member_criminal_investigation" name="member_criminal_investigation">
                    </div>

                    <div class="member-input">
                         <img src="Makkah Region.svg" alt="شعار اللجنة الميدانية" class="member-logo">
                        <label for="member_committee_head">مندوب رئيس اللجنة الميدانية بمحافظة جدة:</label>
                        <input type="text" id="member_committee_head" name="member_committee_head">
                    </div>
                </div>
                <button type="submit">إرسال</button>
                <button type="button" id="update-button">تعديل البيانات</button>
                <div id="msg" class="success"></div>
            </form>
        </div>

         <h2 class="report-title hidden" id="report-title">التقرير</h2>

        <div class="report-container powerbi-container hidden" id="report-section">
            <iframe
                src="https://app.powerbi.com/view?r=eyJrIjoiNzMwZmFmMmQtMDRmMS00MTlmLTk2NGQtOTIwYTcyYjJjODk3IiwidCI6IjJkMzE5NGUzLTE2NTQtNDZiZC1iYWUyLWFkMzdiYTExYjBhZSIsImMiOjl9&embedImagePlaceholder=true"
                frameborder="0" allowFullScreen="true"></iframe>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputLink = document.getElementById('input-link');
            const reportLink = document.getElementById('report-link');
            const inputSection = document.getElementById('input-section');
            const reportSection = document.getElementById('report-section');
            const reportTitle = document.getElementById('report-title'); // Get the report title element
            const container = document.querySelector('.container');


            // Initially show the input section and hide the report section and title
            inputSection.classList.remove('hidden');
            reportSection.classList.add('hidden');
            reportTitle.classList.add('hidden'); // Hide the report title initially
            container.style.gridTemplateColumns = '1fr'; // Initially single column layout


            inputLink.addEventListener('click', function(e) {
                e.preventDefault();
                inputSection.classList.remove('hidden');
                reportSection.classList.add('hidden');
                 reportTitle.classList.add('hidden'); // Hide the report title
                 container.style.gridTemplateColumns = '1fr'; // Single column for form
            });

            reportLink.addEventListener('click', function(e) {
                e.preventDefault();
                inputSection.classList.add('hidden');
                reportSection.classList.remove('hidden');
                reportTitle.classList.remove('hidden'); // Show the report title
                // Ensure the report section takes full width when displayed
                container.style.gridTemplateColumns = '1fr';
            });


            document.getElementById('form').addEventListener('submit', async function(e) {
                e.preventDefault();
                const data = {
                    name: this.name.value,
                    id: this.id.value,
                    phone: this.phone.value,
                    nationality: this.nationality.value,
                    status: this.status.value,
                    education: this.education.value,
                    gender: this.gender.value,
                    practice_type: this.practice_type.value,
                    practice_status: this.practice_status.value,
                    visit_type: this.visit_type.value,
                    notes: this.notes.value,
                    opinion: this.opinion.value,
                    // Add members' names to the data
                    member_islamic_affairs: document.getElementById('member_islamic_affairs').value,
                    member_haia: document.getElementById('member_haia').value,
                    member_criminal_investigation: document.getElementById('member_criminal_investigation').value,
                    member_committee_head: document.getElementById('member_committee_head').value
                };
                let criteria = [];
                for (let i = 1; i <= 15; i++) {
                    const ans = document.querySelector(`input[name="criteria${i}"]:checked`);
                    criteria.push(`معيار ${i}: ${ans ? ans.value : "غير محدد"}`);
                }
                data.criteria = criteria.join("\n");

                // Replace with your Power Automate Flow URL for submitting data
                const submitUrl = "🔗 ضع رابط Power Automate هنا"; // **Remember to replace this with your actual Power Automate URL**


                try {
                    const res = await fetch(submitUrl, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(data)
                    });

                    document.getElementById('msg').textContent =
                        res.ok ? "✅ تم إرسال البيانات بنجاح!" : "❌ حدث خطأ أثناء الإرسال.";
                    if (res.ok) this.reset();
                } catch (error) {
                    console.error('Error submitting form:', error);
                    document.getElementById('msg').textContent = "❌ حدث خطأ أثناء الإرسال: " + error.message;
                }
            });

            // Add event listener for the Update Data button
            document.getElementById('update-button').addEventListener('click', function() {
                // Add functionality here to handle data update based on the National ID search
                alert('Functionality to update data based on National ID search needs to be implemented.');
            });

            // Add event listener for the Search button
            document.getElementById('search-button').addEventListener('click', function() {
                const nationalId = document.getElementById('search-id').value;
                // Add functionality here to search for data using the nationalId
                alert('Functionality to search data using National ID needs to be implemented. Searching for ID: ' + nationalId);
            });
        });
    
// ميزة الوضع الليلي
function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
}

// تغيير حجم الخط
let currentFontSize = 16;
function changeFontSize(change) {
    currentFontSize += change;
    document.body.style.fontSize = currentFontSize + "px";
}

// عرض تاريخ اليوم
document.getElementById("today-date").textContent = "📅 " + new Date().toLocaleDateString('ar-EG');

</script>

</body>

</html>